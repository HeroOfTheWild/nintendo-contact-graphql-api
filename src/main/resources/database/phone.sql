CREATE SCHEMA IF NOT EXISTS NINTENDO;

-- Phone Details
CREATE TABLE "NINTENDO"."PHONE" (
    PHONE_ID varchar(36) PRIMARY KEY NOT NULL, 
    NINTENDO_ID varchar(7) NOT NULL,
    PHONE_TYPE varchar(6) NOT NULL,
    PHONE_PURPOSE_DC varchar(10) NOT NULL DEFAULT 'BOTH',
    COUNTRY_CD varchar(255) NOT NULL,
    PHONE_NBR varchar(30) NOT NULL, 
    MODIFIED timestamp NOT NULL
);

CREATE UNIQUE INDEX XPX_PHONE ON "NINTENDO"."PHONE"(PHONE_ID);
CREATE INDEX PHONE_IDX1 ON "NINTENDO"."PHONE"(NINTENDO_ID);

INSERT INTO NINTENDO.PHONE 
(PHONE_ID, NINTENDO_ID, PHONE_TYPE, PHONE_PURPOSE_DC, COUNTRY_CD, PHONE_NBR, MODIFIED)
VALUES ('n1nt3nd0-11a8-4d5b-beda-ph0n3a120f71', 'nin0001', 'MOBILE', 'BOTH', '+1', '2104892777', '2022-07-05 23:54:00');

INSERT INTO NINTENDO.PHONE 
(PHONE_ID, NINTENDO_ID, PHONE_TYPE, PHONE_PURPOSE_DC, COUNTRY_CD, PHONE_NBR, MODIFIED)
VALUES ('n1nt3nd0-12a8-4d5b-beda-ph0n3a120f71', 'nin0002', 'MOBILE', 'BOTH', '+1', '2104892777', '2022-07-05 23:54:00');

INSERT INTO NINTENDO.PHONE 
(PHONE_ID, NINTENDO_ID, PHONE_TYPE, PHONE_PURPOSE_DC, COUNTRY_CD, PHONE_NBR, MODIFIED)
VALUES ('n1nt3nd0-13a8-4d5b-beda-ph0n3a120012', 'nin0003', 'MOBILE', 'BOTH', '+1', '2103562777', '2022-07-05 23:54:00');

INSERT INTO NINTENDO.PHONE 
(PHONE_ID, NINTENDO_ID, PHONE_TYPE, PHONE_PURPOSE_DC, COUNTRY_CD, PHONE_NBR, MODIFIED)
VALUES ('n1nt3nd0-13a8-4d5b-beda-ph0n3a120f71', 'nin0004', 'MOBILE', 'BOTH', '+1', '2104892777', '2022-07-05 23:54:00');

INSERT INTO NINTENDO.PHONE 
(PHONE_ID, NINTENDO_ID, PHONE_TYPE, PHONE_PURPOSE_DC, COUNTRY_CD, PHONE_NBR, MODIFIED)
VALUES ('n1nt3nd0-13a8-4d5b-beda-ph0n3a120001', 'nin0005', 'MOBILE', 'BOTH', '+1', '2103562777', '2022-07-05 23:54:00');

INSERT INTO NINTENDO.PHONE 
(PHONE_ID, NINTENDO_ID, PHONE_TYPE, PHONE_PURPOSE_DC, COUNTRY_CD, PHONE_NBR, MODIFIED)
VALUES ('n1nt3nd0-13a8-4d5b-beda-ph0n3a120121', 'nin0006', 'MOBILE', 'BOTH', '+1', '2103332777', '2022-07-05 23:54:00');

INSERT INTO NINTENDO.PHONE 
(PHONE_ID, NINTENDO_ID, PHONE_TYPE, PHONE_PURPOSE_DC, COUNTRY_CD, PHONE_NBR, MODIFIED)
VALUES ('n1nt3nd0-13a8-4d5b-beda-ph0n3a120640', 'nin9999', 'MOBILE', 'BOTH', '+1', '8002553700', '2022-07-05 23:54:00');


-- Phone History Details
CREATE TABLE "NINTENDO"."PHONE_HST" (
    PHONE_ID varchar(36) NOT NULL, 
    NINTENDO_ID varchar(7) NOT NULL,
    PHONE_TYPE varchar(6) NOT NULL,
    PHONE_PURPOSE_DC varchar(10) NOT NULL DEFAULT 'BOTH',
    COUNTRY_CD varchar(255) NOT NULL,
    PHONE_NBR varchar(30) NOT NULL, 
    MODIFIED timestamp NOT NULL,
    CONSTRAINT XPK_PHONE_HST PRIMARY KEY (PHONE_ID, MODIFIED)
);

CREATE UNIQUE INDEX XPX_PHONE_HST ON "NINTENDO"."PHONE_HST"(PHONE_ID, MODIFIED);
CREATE INDEX PHONE_HST_IDX1 ON "NINTENDO"."PHONE_HST"(NINTENDO_ID);


INSERT INTO NINTENDO.PHONE_HST 
(PHONE_ID, NINTENDO_ID, PHONE_TYPE, PHONE_PURPOSE_DC, COUNTRY_CD, PHONE_NBR, MODIFIED)
VALUES ('n1nt3nd0-11a8-4d5b-beda-ph0n3a120f71', 'nin0001', 'MOBILE', 'BOTH', '+1', '2101112777', '2022-07-05 23:54:00');

INSERT INTO NINTENDO.PHONE_HST 
(PHONE_ID, NINTENDO_ID, PHONE_TYPE, PHONE_PURPOSE_DC, COUNTRY_CD, PHONE_NBR, MODIFIED)
VALUES ('n1nt3nd0-12a8-4d5b-beda-ph0n3a120f71', 'nin0002', 'MOBILE', 'BOTH', '+1', '2102222777', '2022-07-05 23:54:00');

INSERT INTO NINTENDO.PHONE_HST 
(PHONE_ID, NINTENDO_ID, PHONE_TYPE, PHONE_PURPOSE_DC, COUNTRY_CD, PHONE_NBR, MODIFIED)
VALUES ('n1nt3nd0-13a8-4d5b-beda-ph0n3a120012', 'nin0003', 'MOBILE', 'BOTH', '+1', '2103562777', '2022-07-05 23:54:00');

INSERT INTO NINTENDO.PHONE_HST 
(PHONE_ID, NINTENDO_ID, PHONE_TYPE, PHONE_PURPOSE_DC, COUNTRY_CD, PHONE_NBR, MODIFIED)
VALUES ('n1nt3nd0-13a8-4d5b-beda-ph0n3a120f71', 'nin0004', 'MOBILE', 'BOTH', '+1', '2104442771', '2022-07-05 23:54:00');

INSERT INTO NINTENDO.PHONE_HST 
(PHONE_ID, NINTENDO_ID, PHONE_TYPE, PHONE_PURPOSE_DC, COUNTRY_CD, PHONE_NBR, MODIFIED)
VALUES ('n1nt3nd0-13a8-4d5b-beda-ph0n3a120f71', 'nin0004', 'MOBILE', 'BOTH', '+1', '2104442772', '2022-02-05 23:54:00');

INSERT INTO NINTENDO.PHONE_HST 
(PHONE_ID, NINTENDO_ID, PHONE_TYPE, PHONE_PURPOSE_DC, COUNTRY_CD, PHONE_NBR, MODIFIED)
VALUES ('n1nt3nd0-13a8-4d5b-beda-ph0n3a120f71', 'nin0004', 'MOBILE', 'BOTH', '+1', '2104442773', '2021-01-11 23:54:00');

INSERT INTO NINTENDO.PHONE_HST 
(PHONE_ID, NINTENDO_ID, PHONE_TYPE, PHONE_PURPOSE_DC, COUNTRY_CD, PHONE_NBR, MODIFIED)
VALUES ('n1nt3nd0-13a8-4d5b-beda-ph0n3a120f71', 'nin0004', 'MOBILE', 'BOTH', '+1', '2104892777', '2020-01-05 23:54:00');

INSERT INTO NINTENDO.PHONE_HST 
(PHONE_ID, NINTENDO_ID, PHONE_TYPE, PHONE_PURPOSE_DC, COUNTRY_CD, PHONE_NBR, MODIFIED)
VALUES ('n1nt3nd0-13a8-4d5b-beda-ph0n3a120001', 'nin0005', 'MOBILE', 'BOTH', '+1', '2103562777', '2022-07-05 23:54:00');

INSERT INTO NINTENDO.PHONE_HST 
(PHONE_ID, NINTENDO_ID, PHONE_TYPE, PHONE_PURPOSE_DC, COUNTRY_CD, PHONE_NBR, MODIFIED)
VALUES ('n1nt3nd0-13a8-4d5b-beda-ph0n3a120121', 'nin0006', 'MOBILE', 'BOTH', '+1', '2103332777', '2022-07-05 23:54:00');

INSERT INTO NINTENDO.PHONE_HST 
(PHONE_ID, NINTENDO_ID, PHONE_TYPE, PHONE_PURPOSE_DC, COUNTRY_CD, PHONE_NBR, MODIFIED)
VALUES ('n1nt3nd0-13a8-4d5b-beda-ph0n3a120640', 'nin9999', 'MOBILE', 'BOTH', '+1', '8002553700', '2022-07-05 23:54:00');